说明：

- arr_int64 = np.random.randint(0,128,(h,w))
- 转成不同的数据类型做np.dot(arr_int64.T,arr_int64)

----


> 结论：cpu上，float32>float64>int32>其它类型

 

----


# 1、h=1000,w=2000
[2000,1000]x [1000,2000]
```python
arr_int64 = np.random.randint(0,128,(1000,2000))
'''
float64: 0.449673
float32: 0.25919000000000003
float16: 38.175963
int64: 27.504204
int32: 18.81960000000001
int16: 13.553539999999998
int8: 13.446096999999995
uint8: 12.833385000000007
'''
```
# 2、h=2000,w=1000
[1000,2000] x[2000,1000]
```python
arr_int64 = np.random.randint(0,128,(2000,1000))
'''
float64: 0.20478799999999997
float32: 0.09067000000000003
float16: 19.003139
int64: 13.940554000000002
int32: 9.597567999999995
int16: 8.060977000000001
int8: 8.508515000000003
uint8: 8.210925000000003
'''
```
# 3、h=10000,w=200
[200,10000] x[10000,200]
```python
arr_int64 = np.random.randint(0,128,(10000,200))
'''
float64: 0.09587400000000001
float32: 0.049319
float16: 6.696525
int64: 4.057941
int32: 2.934481
int16: 4.596666000000001
int8: 1.78566
uint8: 1.6574219999999968
'''
```
# 4、h=200,w=10000
[10000,200]x[200,10000]
```python
arr_int64 = np.random.randint(0,128,(200,10000))
# MemoryError
```
# 5、h=5000,w=400
[400,5000] x[5000,400]
```python
arr_int64 = np.random.randint(0,128,(5000,400))
'''
float64: 0.08102400000000001
float32: 0.04665400000000003
float16: 7.468428
int64: 3.7372380000000005
int32: 2.679644999999999
int16: 3.308492000000001
int8: 3.4740430000000018
uint8: 3.3357969999999995
'''
```
# 6、h=400,w=5000
[5000,400] x[400,5000]
```python
arr_int64 = np.random.randint(0,128,(400,5000))
'''
float64: 1.158648
float32: 0.582856
float16: 90.220923
int64: 26.75341200000001
int32: 18.08099999999999
int16: 33.945211
int8: 28.835082
uint8: 25.861455000000007
'''
```
# 7、h=50000,w=40
[40,50000] x[50000,40]
```python
arr_int64 = np.random.randint(0,128,(50000,40))
'''
float64: 0.016851000000000005
float32: 0.008714
float16: 0.764753
int64: 1.635137
int32: 0.9298040000000003
int16: 0.36484799999999984
int8: 0.1959080000000002
uint8: 0.18278600000000012
'''
```
# 8、h=40,w=50000
[50000,40] 与[40,50000] 做dot
```
MemoryError
```

# 9、[200,100000]x[100000,1]
```python
float64: 0.027809000000000084
float32: 0.011770999999999976
float16: 0.24027600000000005
int64: 0.016688999999999954
int32: 0.01402099999999995
int16: 0.05822700000000003
int8: 0.046674000000000104
uint8: 0.04196500000000003
```
# 10、[100000,200]x[200,1]
```
float64: 0.022380999999999984
float32: 0.011656
float16: 0.245475
int64: 0.016745999999999928
int32: 0.015132000000000034
int16: 0.05923199999999995
int8: 0.04654999999999998
uint8: 0.042181000000000024
```
-----

说明：

- arr_int64 = np.random.randint(0,128,(h,w))
= 转成不同的数据类型做np.dot(arr_int64.T,arr_int64)
# 1、h=1000,w=2000
[2000,1000]x [1000,2000]
```python
arr_int64 = np.random.randint(0,128,(1000,2000))
'''
float64: 0.449673
float32: 0.25919000000000003
float16: 38.175963
int64: 27.504204
int32: 18.81960000000001
int16: 13.553539999999998
int8: 13.446096999999995
uint8: 12.833385000000007
'''
```
# 2、h=2000,w=1000
[1000,2000] x[2000,1000]
```python
arr_int64 = np.random.randint(0,128,(2000,1000))
'''
float64: 0.20478799999999997
float32: 0.09067000000000003
float16: 19.003139
int64: 13.940554000000002
int32: 9.597567999999995
int16: 8.060977000000001
int8: 8.508515000000003
uint8: 8.210925000000003
'''
```
# 3、h=10000,w=200
[200,10000] x[10000,200]
```python
arr_int64 = np.random.randint(0,128,(10000,200))
'''
float64: 0.09587400000000001
float32: 0.049319
float16: 6.696525
int64: 4.057941
int32: 2.934481
int16: 4.596666000000001
int8: 1.78566
uint8: 1.6574219999999968
'''
```
# 4、h=200,w=10000
[10000,200]x[200,10000]
```python
arr_int64 = np.random.randint(0,128,(200,10000))
# MemoryError
```
# 5、h=5000,w=400
[400,5000] x[5000,400]
```python
arr_int64 = np.random.randint(0,128,(5000,400))
'''
float64: 0.08102400000000001
float32: 0.04665400000000003
float16: 7.468428
int64: 3.7372380000000005
int32: 2.679644999999999
int16: 3.308492000000001
int8: 3.4740430000000018
uint8: 3.3357969999999995
'''
```
# 6、h=400,w=5000
[5000,400] x[400,5000]
```python
arr_int64 = np.random.randint(0,128,(400,5000))
'''
float64: 1.158648
float32: 0.582856
float16: 90.220923
int64: 26.75341200000001
int32: 18.08099999999999
int16: 33.945211
int8: 28.835082
uint8: 25.861455000000007
'''
```
# 7、h=50000,w=40
[40,50000] x[50000,40]
```
arr_int64 = np.random.randint(0,128,(50000,40))
'''
float64: 0.016851000000000005
float32: 0.008714
float16: 0.764753
int64: 1.635137
int32: 0.9298040000000003
int16: 0.36484799999999984
int8: 0.1959080000000002
uint8: 0.18278600000000012
'''
```
# 8、h=40,w=50000
[50000,40] 与[40,50000] 做dot
```
MemoryError
```
# 9、[200,100000]x[100000,1]
```python
'''
float64: 0.027809000000000084
float32: 0.011770999999999976
float16: 0.24027600000000005
int64: 0.016688999999999954
int32: 0.01402099999999995
int16: 0.05822700000000003
int8: 0.046674000000000104
uint8: 0.04196500000000003
'''
```
# 10、[100000,200]x[200,1]
```python
'''
float64: 0.022380999999999984
float32: 0.011656
float16: 0.245475
int64: 0.016745999999999928
int32: 0.015132000000000034
int16: 0.05923199999999995
int8: 0.04654999999999998
uint8: 0.042181000000000024
'''
```
# 11、[56w,128]x[128,1]
```python
'''
float64: 0.10074700000000014
float32: 0.06553299999999984
float16: 0.6766100000000002
int64: 0.06208900000000028
int32: 0.0557789999999998
int16: 0.21425500000000008
int8: 0.17412800000000006
uint8: 0.1582889999999999
'''
```
# 12、[128,56w]x[56w,1]
```python
'''
float64: 0.09963299999999986
float32: 0.048802000000000234
float16: 0.6977830000000003
int64: 0.08102099999999979
int32: 0.051423999999999914
int16: 0.2081970000000002
int8: 0.16597499999999998
uint8: 0.14957200000000004
float64: 0.10074700000000014
float32: 0.06553299999999984
float16: 0.6766100000000002
int64: 0.06208900000000028
int32: 0.0557789999999998
int16: 0.21425500000000008
int8: 0.17412800000000006
uint8: 0.1582889999999999
'''
```
# 12、[128,56w]x[56w,1]
``` python
'''
float64: 0.09963299999999986
float32: 0.048802000000000234
float16: 0.6977830000000003
int64: 0.08102099999999979
int32: 0.051423999999999914
int16: 0.2081970000000002
int8: 0.16597499999999998
uint8: 0.14957200000000004
'''
```
